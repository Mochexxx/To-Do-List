<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>üìù To-Do List - Gest√£o de Tarefas e Not√≠cias</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- React and ReactDOM CDN -->
        <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
        <!-- Babel for JSX support -->
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        <!-- API Services -->
        <script src="../src/services/api.js"></script>
        <!-- News Service -->
        <script src="../src/services/news.js"></script>
        <style>
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }
            
            body { 
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                background-color: #f5f5f5;
                line-height: 1.6;
            }
            
            #root { 
                min-height: 100vh;
                background-color: white;
                box-shadow: 0 0 20px rgba(0,0,0,0.1);
            }
            
            /* Responsividade */
            @media (max-width: 768px) {
                .main-layout {
                    flex-direction: column !important;
                }
                
                .task-sidebar {
                    min-width: 100% !important;
                    max-width: 100% !important;
                }
                
                .news-section {
                    margin-right: 0 !important;
                }
            }
            
            /* Scrollbar personalizada */
            ::-webkit-scrollbar {
                width: 8px;
            }
            
            ::-webkit-scrollbar-track {
                background: #f1f1f1;
            }
            
            ::-webkit-scrollbar-thumb {
                background: #c1c1c1;
                border-radius: 6px;
            }
            
            ::-webkit-scrollbar-thumb:hover {
                background: #a8a8a8;
            }
            
            /* Anima√ß√µes */
            .fade-in {
                animation: fadeIn 0.5s ease-in;
            }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            /* CSS Grid para layout responsivo */
            .grid-container {
                display: grid;
                grid-template-columns: 1fr auto;
                gap: 2rem;
                padding: 2rem;
                max-width: 1400px;
                margin: 0 auto;
            }
            
            @media (max-width: 1024px) {
                .grid-container {
                    grid-template-columns: 1fr;
                    gap: 1rem;
                    padding: 1rem;
                }
            }
            
            /* Estilo para componentes de sele√ß√£o */
            .country-selector {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.75rem;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                background: white;
                cursor: pointer;
                transition: all 0.3s ease;
            }
            
            .country-selector:hover {
                border-color: #667eea;
                box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
            }
            
            .country-selector.selected {
                border-color: #667eea;
                background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            }
            
            /* Task Card Styles */
            .task-card {
                background: white;
                border-radius: 12px;
                padding: 1.5rem;
                margin-bottom: 1rem;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                border-left: 4px solid #667eea;
                transition: all 0.3s ease;
            }
            
            .task-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 16px rgba(0,0,0,0.15);
            }
            
            .task-card.completed {
                opacity: 0.7;
                border-left-color: #28a745;
            }
            
            /* News Card Styles */
            .news-card {
                background: white;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                transition: all 0.3s ease;
                margin-bottom: 1.5rem;
            }
            
            .news-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            }
            
            .news-image {
                width: 100%;
                height: 200px;
                object-fit: cover;
            }
            
            .news-content {
                padding: 1.5rem;
            }
            
            .news-title {
                font-size: 1.2rem;
                font-weight: 600;
                color: #333;
                margin-bottom: 0.5rem;
                line-height: 1.4;
            }
            
            .news-description {
                color: #666;
                line-height: 1.6;
                margin-bottom: 1rem;
            }
            
            .news-meta {
                display: flex;
                justify-content: space-between;
                align-items: center;
                font-size: 0.9rem;
                color: #888;
            }
            
            /* Button Styles */
            .btn-primary {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                padding: 0.75rem 1.5rem;
                border-radius: 8px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                text-decoration: none;
                display: inline-block;
            }
            
            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            }
            
            .btn-secondary {
                background: transparent;
                color: #667eea;
                border: 2px solid #667eea;
                padding: 0.75rem 1.5rem;
                border-radius: 8px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                text-decoration: none;
                display: inline-block;
            }
            
            .btn-secondary:hover {
                background: #667eea;
                color: white;
                transform: translateY(-2px);
            }
            
            /* Form Styles */
            .form-group {
                margin-bottom: 1.5rem;
            }
            
            .form-label {
                display: block;
                margin-bottom: 0.5rem;
                font-weight: 600;
                color: #333;
            }
            
            .form-input {
                width: 100%;
                padding: 0.75rem;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                font-size: 1rem;
                transition: all 0.3s ease;
            }
            
            .form-input:focus {
                outline: none;
                border-color: #667eea;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            }
            
            .form-textarea {
                resize: vertical;
                min-height: 100px;
            }
            
            /* Alert Styles */
            .alert {
                padding: 1rem;
                border-radius: 8px;
                margin-bottom: 1rem;
                font-weight: 500;
            }
            
            .alert-success {
                background: #d4edda;
                color: #155724;
                border: 1px solid #c3e6cb;
            }
            
            .alert-error {
                background: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
            }
            
            .alert-info {
                background: #d1ecf1;
                color: #0c5460;
                border: 1px solid #bee5eb;
            }
        </style>
    </head>
    <body>
        <div id="root"></div>

        <script type="text/babel">
            // Components will be defined here
            const { useState, useEffect } = React;

            // Login Page Component
            function LoginPage({ onAuthSuccess }) {
                const [formData, setFormData] = useState({
                    email: '',
                    password: ''
                });
                const [message, setMessage] = useState('');
                const [messageType, setMessageType] = useState('');

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    setMessage('');

                    if (!formData.email || !formData.password) {
                        setMessage('Por favor, preencha todos os campos');
                        setMessageType('error');
                        return;
                    }

                    try {
                        const result = await authService.login(formData.email, formData.password);
                        if (result.success) {
                            setMessage('Login realizado com sucesso!');
                            setMessageType('success');
                            onAuthSuccess(result.user);
                        } else {
                            setMessage(result.message || 'Erro no login');
                            setMessageType('error');
                        }
                    } catch (error) {
                        setMessage('Erro no servidor');
                        setMessageType('error');
                    }
                };

                const handleChange = (e) => {
                    setFormData({
                        ...formData,
                        [e.target.name]: e.target.value
                    });
                };

                return (
                    <div style={{ 
                        maxWidth: '400px',
                        margin: '0 auto',
                        padding: '2rem',
                        background: 'white',
                        borderRadius: '12px',
                        boxShadow: '0 8px 32px rgba(0,0,0,0.1)'
                    }}>
                        <div style={{ textAlign: 'center', marginBottom: '2rem' }}>
                            <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üö™</div>
                            <h2 style={{ color: '#333', marginBottom: '0.5rem' }}>Entrar</h2>
                            <p style={{ color: '#666' }}>Acesse sua conta para continuar</p>
                        </div>

                        {message && (
                            <div className={`alert alert-${messageType}`}>
                                {message}
                            </div>
                        )}

                        <form onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label className="form-label">Email:</label>
                                <input
                                    type="email"
                                    name="email"
                                    value={formData.email}
                                    onChange={handleChange}
                                    className="form-input"
                                    placeholder="seu@email.com"
                                    required
                                />
                            </div>

                            <div className="form-group">
                                <label className="form-label">Senha:</label>
                                <input
                                    type="password"
                                    name="password"
                                    value={formData.password}
                                    onChange={handleChange}
                                    className="form-input"
                                    placeholder="Sua senha"
                                    required
                                />
                            </div>

                            <button type="submit" className="btn-primary" style={{ width: '100%' }}>
                                üöÄ Entrar
                            </button>
                        </form>
                    </div>
                );
            }

            // Register Page Component
            function RegisterPage({ onAuthSuccess }) {
                const [formData, setFormData] = useState({
                    name: '',
                    email: '',
                    password: '',
                    confirmPassword: '',
                    country: ''
                });
                const [message, setMessage] = useState('');
                const [messageType, setMessageType] = useState('');

                const countries = [
                    { code: 'br', name: 'Brasil', flag: 'üáßüá∑', newsCode: 'br' },
                    { code: 'us', name: 'Estados Unidos', flag: 'üá∫üá∏', newsCode: 'us' },
                    { code: 'pt', name: 'Portugal', flag: 'üáµüáπ', newsCode: 'pt' },
                    { code: 'es', name: 'Espanha', flag: 'üá™üá∏', newsCode: 'es' },
                    { code: 'fr', name: 'Fran√ßa', flag: 'üá´üá∑', newsCode: 'fr' },
                    { code: 'de', name: 'Alemanha', flag: 'üá©üá™', newsCode: 'de' },
                    { code: 'it', name: 'It√°lia', flag: 'üáÆüáπ', newsCode: 'it' },
                    { code: 'uk', name: 'Reino Unido', flag: 'üá¨üáß', newsCode: 'gb' },
                    { code: 'ca', name: 'Canad√°', flag: 'üá®üá¶', newsCode: 'ca' },
                    { code: 'mx', name: 'M√©xico', flag: 'üá≤üáΩ', newsCode: 'mx' }
                ];

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    setMessage('');

                    if (!formData.name || !formData.email || !formData.password || !formData.confirmPassword || !formData.country) {
                        setMessage('Por favor, preencha todos os campos');
                        setMessageType('error');
                        return;
                    }

                    if (formData.password !== formData.confirmPassword) {
                        setMessage('As senhas n√£o coincidem');
                        setMessageType('error');
                        return;
                    }

                    if (formData.password.length < 6) {
                        setMessage('A senha deve ter pelo menos 6 caracteres');
                        setMessageType('error');
                        return;
                    }

                    try {
                        const selectedCountry = countries.find(c => c.code === formData.country);
                        const result = await authService.register({
                            name: formData.name,
                            email: formData.email,
                            password: formData.password,
                            country: selectedCountry.code,
                            countryName: selectedCountry.name,
                            countryFlag: selectedCountry.flag,
                            newsCountryCode: selectedCountry.newsCode
                        });

                        if (result.success) {
                            setMessage('Registro realizado com sucesso!');
                            setMessageType('success');
                            onAuthSuccess(result.user);
                        } else {
                            setMessage(result.message || 'Erro no registro');
                            setMessageType('error');
                        }
                    } catch (error) {
                        setMessage('Erro no servidor');
                        setMessageType('error');
                    }
                };

                const handleChange = (e) => {
                    setFormData({
                        ...formData,
                        [e.target.name]: e.target.value
                    });
                };

                return (
                    <div style={{ 
                        maxWidth: '500px',
                        margin: '0 auto',
                        padding: '2rem',
                        background: 'white',
                        borderRadius: '12px',
                        boxShadow: '0 8px 32px rgba(0,0,0,0.1)'
                    }}>
                        <div style={{ textAlign: 'center', marginBottom: '2rem' }}>
                            <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üìù</div>
                            <h2 style={{ color: '#333', marginBottom: '0.5rem' }}>Criar Conta</h2>
                            <p style={{ color: '#666' }}>Junte-se √† nossa comunidade produtiva</p>
                        </div>

                        {message && (
                            <div className={`alert alert-${messageType}`}>
                                {message}
                            </div>
                        )}

                        <form onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label className="form-label">Nome Completo:</label>
                                <input
                                    type="text"
                                    name="name"
                                    value={formData.name}
                                    onChange={handleChange}
                                    className="form-input"
                                    placeholder="Seu nome completo"
                                    required
                                />
                            </div>

                            <div className="form-group">
                                <label className="form-label">Email:</label>
                                <input
                                    type="email"
                                    name="email"
                                    value={formData.email}
                                    onChange={handleChange}
                                    className="form-input"
                                    placeholder="seu@email.com"
                                    required
                                />
                            </div>

                            <div className="form-group">
                                <label className="form-label">
                                    Pa√≠s: <span style={{ color: '#888', fontSize: '0.9rem' }}>(influenciar√° suas not√≠cias)</span>
                                </label>
                                <select
                                    name="country"
                                    value={formData.country}
                                    onChange={handleChange}
                                    className="form-input"
                                    required
                                    style={{ cursor: 'pointer' }}
                                >
                                    <option value="">Selecione seu pa√≠s</option>
                                    {countries.map(country => (
                                        <option key={country.code} value={country.code}>
                                            {country.flag} {country.name}
                                        </option>
                                    ))}
                                </select>
                                <small style={{ color: '#666', fontSize: '0.85rem' }}>
                                    üåç Suas not√≠cias ser√£o personalizadas com base na regi√£o selecionada
                                </small>
                            </div>

                            <div className="form-group">
                                <label className="form-label">Senha:</label>
                                <input
                                    type="password"
                                    name="password"
                                    value={formData.password}
                                    onChange={handleChange}
                                    className="form-input"
                                    placeholder="M√≠nimo 6 caracteres"
                                    required
                                    minLength="6"
                                />
                            </div>

                            <div className="form-group">
                                <label className="form-label">Confirmar Senha:</label>
                                <input
                                    type="password"
                                    name="confirmPassword"
                                    value={formData.confirmPassword}
                                    onChange={handleChange}
                                    className="form-input"
                                    placeholder="Repita sua senha"
                                    required
                                />
                            </div>

                            <button type="submit" className="btn-primary" style={{ width: '100%' }}>
                                üöÄ Criar Conta
                            </button>
                        </form>
                    </div>
                );
            }

            // Dashboard Component
            function Dashboard({ user }) {
                const [tasks, setTasks] = useState([]);
                const [newTask, setNewTask] = useState('');

                useEffect(() => {
                    // Load tasks from localStorage
                    const savedTasks = localStorage.getItem(`tasks_${user.email}`);
                    if (savedTasks) {
                        setTasks(JSON.parse(savedTasks));
                    }
                }, [user.email]);

                const saveTasks = (updatedTasks) => {
                    localStorage.setItem(`tasks_${user.email}`, JSON.stringify(updatedTasks));
                    setTasks(updatedTasks);
                };

                const addTask = (e) => {
                    e.preventDefault();
                    if (!newTask.trim()) return;

                    const task = {
                        id: Date.now(),
                        text: newTask.trim(),
                        completed: false,
                        createdAt: new Date().toISOString()
                    };

                    const updatedTasks = [...tasks, task];
                    saveTasks(updatedTasks);
                    setNewTask('');
                };

                const toggleTask = (id) => {
                    const updatedTasks = tasks.map(task =>
                        task.id === id ? { ...task, completed: !task.completed } : task
                    );
                    saveTasks(updatedTasks);
                };

                const deleteTask = (id) => {
                    const updatedTasks = tasks.filter(task => task.id !== id);
                    saveTasks(updatedTasks);
                };

                const completedCount = tasks.filter(task => task.completed).length;
                const pendingCount = tasks.length - completedCount;

                return (
                    <div style={{ maxWidth: '800px', margin: '0 auto' }}>
                        <div style={{ textAlign: 'center', marginBottom: '2rem' }}>
                            <h1 style={{ fontSize: '2.5rem', color: '#333', marginBottom: '0.5rem' }}>
                                üìä Dashboard
                            </h1>
                            <p style={{ color: '#666', fontSize: '1.1rem' }}>
                                Bem-vindo, {user.name}! {user.countryFlag}
                            </p>
                        </div>

                        {/* Statistics */}
                        <div style={{ 
                            display: 'grid', 
                            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', 
                            gap: '1rem', 
                            marginBottom: '2rem' 
                        }}>
                            <div style={{ 
                                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                color: 'white',
                                padding: '1.5rem',
                                borderRadius: '12px',
                                textAlign: 'center'
                            }}>
                                <div style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>üìù</div>
                                <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{tasks.length}</div>
                                <div>Total de Tarefas</div>
                            </div>
                            
                            <div style={{ 
                                background: 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)',
                                color: 'white',
                                padding: '1.5rem',
                                borderRadius: '12px',
                                textAlign: 'center'
                            }}>
                                <div style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>‚úÖ</div>
                                <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{completedCount}</div>
                                <div>Conclu√≠das</div>
                            </div>
                            
                            <div style={{ 
                                background: 'linear-gradient(135deg, #fd746c 0%, #ff9068 100%)',
                                color: 'white',
                                padding: '1.5rem',
                                borderRadius: '12px',
                                textAlign: 'center'
                            }}>
                                <div style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>‚è≥</div>
                                <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{pendingCount}</div>
                                <div>Pendentes</div>
                            </div>
                        </div>

                        {/* Add Task Form */}
                        <div style={{ 
                            background: 'white',
                            padding: '2rem',
                            borderRadius: '12px',
                            boxShadow: '0 4px 12px rgba(0,0,0,0.1)',
                            marginBottom: '2rem'
                        }}>
                            <h3 style={{ marginBottom: '1rem', color: '#333' }}>‚ûï Adicionar Nova Tarefa</h3>
                            <form onSubmit={addTask} style={{ display: 'flex', gap: '1rem' }}>
                                <input
                                    type="text"
                                    value={newTask}
                                    onChange={(e) => setNewTask(e.target.value)}
                                    placeholder="Digite sua tarefa..."
                                    style={{
                                        flex: 1,
                                        padding: '0.75rem',
                                        border: '2px solid #e0e0e0',
                                        borderRadius: '8px',
                                        fontSize: '1rem'
                                    }}
                                />
                                <button type="submit" className="btn-primary">
                                    Adicionar
                                </button>
                            </form>
                        </div>

                        {/* Tasks List */}
                        <div style={{ 
                            background: 'white',
                            borderRadius: '12px',
                            boxShadow: '0 4px 12px rgba(0,0,0,0.1)',
                            overflow: 'hidden'
                        }}>
                            <div style={{ 
                                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                color: 'white',
                                padding: '1rem 1.5rem'
                            }}>
                                <h3 style={{ margin: 0 }}>üìã Suas Tarefas</h3>
                            </div>
                            
                            <div style={{ padding: '1.5rem' }}>
                                {tasks.length === 0 ? (
                                    <div style={{ 
                                        textAlign: 'center', 
                                        color: '#666', 
                                        padding: '2rem' 
                                    }}>
                                        <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üìù</div>
                                        <p>Nenhuma tarefa ainda. Adicione sua primeira tarefa!</p>
                                    </div>
                                ) : (
                                    tasks.map(task => (
                                        <div 
                                            key={task.id}
                                            className={`task-card ${task.completed ? 'completed' : ''}`}
                                        >
                                            <div style={{ 
                                                display: 'flex', 
                                                alignItems: 'center', 
                                                justifyContent: 'space-between' 
                                            }}>
                                                <div style={{ 
                                                    display: 'flex', 
                                                    alignItems: 'center', 
                                                    gap: '1rem',
                                                    flex: 1
                                                }}>
                                                    <input
                                                        type="checkbox"
                                                        checked={task.completed}
                                                        onChange={() => toggleTask(task.id)}
                                                        style={{ 
                                                            width: '20px', 
                                                            height: '20px',
                                                            cursor: 'pointer'
                                                        }}
                                                    />
                                                    <span style={{ 
                                                        textDecoration: task.completed ? 'line-through' : 'none',
                                                        color: task.completed ? '#666' : '#333',
                                                        flex: 1
                                                    }}>
                                                        {task.text}
                                                    </span>
                                                </div>
                                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                                                    <small style={{ color: '#888' }}>
                                                        {new Date(task.createdAt).toLocaleDateString()}
                                                    </small>
                                                    <button
                                                        onClick={() => deleteTask(task.id)}
                                                        style={{
                                                            background: '#dc3545',
                                                            color: 'white',
                                                            border: 'none',
                                                            padding: '0.25rem 0.5rem',
                                                            borderRadius: '4px',
                                                            cursor: 'pointer',
                                                            fontSize: '0.8rem'
                                                        }}
                                                    >
                                                        üóëÔ∏è
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    ))
                                )}
                            </div>
                        </div>
                    </div>
                );
            }

            // News Section Component
            function NewsSection({ user }) {
                const [news, setNews] = useState([]);
                const [loading, setLoading] = useState(true);
                const [selectedCategory, setSelectedCategory] = useState('general');

                const categories = [
                    { id: 'general', name: 'Geral', icon: 'üì∞' },
                    { id: 'business', name: 'Neg√≥cios', icon: 'üíº' },
                    { id: 'technology', name: 'Tecnologia', icon: 'üíª' },
                    { id: 'science', name: 'Ci√™ncia', icon: 'üî¨' },
                    { id: 'health', name: 'Sa√∫de', icon: 'üè•' },
                    { id: 'sports', name: 'Esportes', icon: '‚öΩ' },
                    { id: 'entertainment', name: 'Entretenimento', icon: 'üé¨' }
                ];

                useEffect(() => {
                    loadNews();
                }, [selectedCategory, user]);

                const loadNews = async () => {
                    setLoading(true);
                    try {
                        const newsData = await newsService.getNewsByCategory(selectedCategory, user?.newsCountryCode);
                        setNews(newsData || []);
                    } catch (error) {
                        console.error('Erro ao carregar not√≠cias:', error);
                        setNews([]);
                    } finally {
                        setLoading(false);
                    }
                };

                return (
                    <div style={{ maxWidth: '1000px', margin: '0 auto' }}>
                        <div style={{ textAlign: 'center', marginBottom: '2rem' }}>
                            <h1 style={{ fontSize: '2.5rem', color: '#333', marginBottom: '0.5rem', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '1rem' }}>
                                üì∞ Not√≠cias
                                {user?.countryFlag && (
                                    <span style={{ fontSize: '2rem' }}>{user.countryFlag}</span>
                                )}
                            </h1>
                            <p style={{ color: '#666', fontSize: '1.1rem' }}>
                                Not√≠cias personalizadas para {user?.countryName || 'sua regi√£o'}
                            </p>
                        </div>

                        {/* Category Filter */}
                        <div style={{ 
                            display: 'flex', 
                            flexWrap: 'wrap', 
                            gap: '0.5rem', 
                            marginBottom: '2rem',
                            justifyContent: 'center'
                        }}>
                            {categories.map(category => (
                                <button
                                    key={category.id}
                                    onClick={() => setSelectedCategory(category.id)}
                                    style={{
                                        background: selectedCategory === category.id 
                                            ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' 
                                            : 'white',
                                        color: selectedCategory === category.id ? 'white' : '#333',
                                        border: selectedCategory === category.id ? 'none' : '2px solid #e0e0e0',
                                        padding: '0.75rem 1rem',
                                        borderRadius: '25px',
                                        cursor: 'pointer',
                                        fontSize: '0.9rem',
                                        fontWeight: '500',
                                        transition: 'all 0.3s ease',
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '0.5rem'
                                    }}
                                >
                                    <span>{category.icon}</span>
                                    {category.name}
                                </button>
                            ))}
                        </div>

                        {loading ? (
                            <div style={{ 
                                textAlign: 'center', 
                                padding: '3rem',
                                color: '#666'
                            }}>
                                <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>‚è≥</div>
                                <p>Carregando not√≠cias...</p>
                            </div>
                        ) : news.length === 0 ? (
                            <div style={{ 
                                textAlign: 'center', 
                                padding: '3rem',
                                color: '#666',
                                background: 'white',
                                borderRadius: '12px',
                                boxShadow: '0 4px 12px rgba(0,0,0,0.1)'
                            }}>
                                <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üì∞</div>
                                <p>Nenhuma not√≠cia encontrada para esta categoria.</p>
                            </div>
                        ) : (
                            <div style={{ 
                                display: 'grid', 
                                gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', 
                                gap: '1.5rem' 
                            }}>
                                {news.map((article, index) => (
                                    <article 
                                        key={index}
                                        className="news-card"
                                    >
                                        {article.urlToImage && (
                                            <img 
                                                src={article.urlToImage} 
                                                alt={article.title}
                                                className="news-image"
                                                onError={(e) => {
                                                    e.target.style.display = 'none';
                                                }}
                                            />
                                        )}
                                        <div className="news-content">
                                            <h3 className="news-title">{article.title}</h3>
                                            {article.description && (
                                                <p className="news-description">
                                                    {article.description.length > 150 
                                                        ? article.description.substring(0, 150) + '...' 
                                                        : article.description
                                                    }
                                                </p>
                                            )}
                                            <div className="news-meta">
                                                <span>
                                                    {article.source?.name || 'Fonte desconhecida'}
                                                </span>
                                                <span>
                                                    {article.publishedAt ? 
                                                        new Date(article.publishedAt).toLocaleDateString('pt-BR') : 
                                                        'Data n√£o dispon√≠vel'
                                                    }
                                                </span>
                                            </div>
                                            {article.url && (
                                                <a 
                                                    href={article.url} 
                                                    target="_blank" 
                                                    rel="noopener noreferrer"
                                                    className="btn-primary"
                                                    style={{ 
                                                        marginTop: '1rem',
                                                        fontSize: '0.9rem',
                                                        padding: '0.5rem 1rem'
                                                    }}
                                                >
                                                    üìñ Ler mais
                                                </a>
                                            )}
                                        </div>
                                    </article>
                                ))}
                            </div>
                        )}
                    </div>
                );
            }

            // Main App Component
            function App() {
                const [showAuthMenu, setShowAuthMenu] = useState(false);
                const [currentPage, setCurrentPage] = useState('main');
                const [isAuthenticated, setIsAuthenticated] = useState(false);
                const [user, setUser] = useState(null);

                // Check authentication on mount
                useEffect(() => {
                    const authenticated = authService.isAuthenticated();
                    const userData = authService.getUser();
                    setIsAuthenticated(authenticated);
                    setUser(userData);
                }, []);

                const handleAuth = () => {
                    setShowAuthMenu(!showAuthMenu);
                };

                const handlePageChange = (page) => {
                    setCurrentPage(page);
                    setShowAuthMenu(false);
                };

                const handleLogout = () => {
                    authService.logout();
                    setIsAuthenticated(false);
                    setUser(null);
                    setCurrentPage('main');
                    setShowAuthMenu(false);
                };

                const handleAuthSuccess = (userData) => {
                    setIsAuthenticated(true);
                    setUser(userData);
                    setCurrentPage('dashboard');
                    setShowAuthMenu(false);
                };

                return (
                    <div style={{ minHeight: '100vh', display: 'flex', flexDirection: 'column' }}>
                        <header style={{ 
                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                            color: 'white',
                            padding: '1rem 0',
                            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
                        }}>
                            <div style={{ 
                                maxWidth: '1200px', 
                                margin: '0 auto', 
                                padding: '0 1rem',
                                display: 'flex',
                                justifyContent: 'space-between',
                                alignItems: 'center'
                            }}>
                                <div 
                                    onClick={() => handlePageChange('main')}
                                    style={{ 
                                        fontSize: '1.5rem', 
                                        fontWeight: 'bold',
                                        cursor: 'pointer',
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '0.5rem'
                                    }}
                                >
                                    üìù To-Do List
                                </div>
                                
                                <nav style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                                    {!isAuthenticated ? (
                                        <>
                                            <div style={{ position: 'relative' }}>
                                                <button 
                                                    onClick={handleAuth}
                                                    style={{
                                                        background: 'rgba(255,255,255,0.2)',
                                                        color: 'white',
                                                        border: 'none',
                                                        padding: '0.5rem 1rem',
                                                        borderRadius: '5px',
                                                        cursor: 'pointer',
                                                        fontWeight: '500'
                                                    }}
                                                >
                                                    üë§ Conta
                                                </button>
                                                
                                                {showAuthMenu && (
                                                    <div style={{
                                                        position: 'absolute',
                                                        top: '100%',
                                                        right: '0',
                                                        background: 'white',
                                                        borderRadius: '8px',
                                                        boxShadow: '0 4px 15px rgba(0,0,0,0.2)',
                                                        padding: '0.5rem',
                                                        marginTop: '0.5rem',
                                                        minWidth: '150px',
                                                        zIndex: 1000
                                                    }}>
                                                        <button
                                                            onClick={() => handlePageChange('login')}
                                                            style={{
                                                                display: 'block',
                                                                width: '100%',
                                                                padding: '0.75rem',
                                                                background: 'none',
                                                                border: 'none',
                                                                color: '#333',
                                                                textAlign: 'left',
                                                                cursor: 'pointer',
                                                                borderRadius: '4px'
                                                            }}
                                                        >
                                                            üö™ Entrar
                                                        </button>
                                                        <button
                                                            onClick={() => handlePageChange('register')}
                                                            style={{
                                                                display: 'block',
                                                                width: '100%',
                                                                padding: '0.75rem',
                                                                background: 'none',
                                                                border: 'none',
                                                                color: '#333',
                                                                textAlign: 'left',
                                                                cursor: 'pointer',
                                                                borderRadius: '4px'
                                                            }}
                                                        >
                                                            üìù Registrar
                                                        </button>
                                                    </div>
                                                )}
                                            </div>
                                        </>
                                    ) : (
                                        <>
                                            <button
                                                onClick={() => handlePageChange('dashboard')}
                                                style={{
                                                    background: 'rgba(255,255,255,0.2)',
                                                    color: 'white',
                                                    border: 'none',
                                                    padding: '0.5rem 1rem',
                                                    borderRadius: '5px',
                                                    cursor: 'pointer',
                                                    fontWeight: '500'
                                                }}
                                            >
                                                üìä Dashboard
                                            </button>
                                            <button
                                                onClick={() => handlePageChange('news')}
                                                style={{
                                                    background: 'rgba(255,255,255,0.2)',
                                                    color: 'white',
                                                    border: 'none',
                                                    padding: '0.5rem 1rem',
                                                    borderRadius: '5px',
                                                    cursor: 'pointer',
                                                    fontWeight: '500'
                                                }}
                                            >
                                                üì∞ Not√≠cias
                                            </button>
                                            <span style={{ color: 'rgba(255,255,255,0.9)' }}>
                                                Ol√°, {user?.name || 'Usu√°rio'}!
                                            </span>
                                            <button
                                                onClick={handleLogout}
                                                style={{
                                                    background: 'rgba(255,255,255,0.2)',
                                                    color: 'white',
                                                    border: 'none',
                                                    padding: '0.5rem 1rem',
                                                    borderRadius: '5px',
                                                    cursor: 'pointer',
                                                    fontWeight: '500'
                                                }}
                                            >
                                                üö™ Sair
                                            </button>
                                        </>
                                    )}
                                </nav>
                            </div>
                        </header>

                        <div style={{ flex: 1 }}>
                            {currentPage === 'login' && (
                                <div style={{ 
                                    display: 'flex', 
                                    justifyContent: 'center', 
                                    alignItems: 'center', 
                                    minHeight: 'calc(100vh - 80px)',
                                    padding: '2rem'
                                }}>
                                    <LoginPage onAuthSuccess={handleAuthSuccess} />
                                </div>
                            )}
                            
                            {currentPage === 'register' && (
                                <div style={{ 
                                    display: 'flex', 
                                    justifyContent: 'center', 
                                    alignItems: 'center', 
                                    minHeight: 'calc(100vh - 80px)',
                                    padding: '2rem'
                                }}>
                                    <RegisterPage onAuthSuccess={handleAuthSuccess} />
                                </div>
                            )}
                            
                            {currentPage === 'dashboard' && isAuthenticated && (
                                <div style={{ padding: '2rem' }}>
                                    <Dashboard user={user} />
                                </div>
                            )}
                            
                            {currentPage === 'news' && isAuthenticated && (
                                <div style={{ padding: '2rem' }}>
                                    <NewsSection user={user} />
                                </div>
                            )}
                            
                            {currentPage === 'main' && (
                                <div style={{ 
                                    display: 'flex',
                                    minHeight: 'calc(100vh - 80px)'
                                }}>
                                    <div style={{ 
                                        flex: 1,
                                        background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)',
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'center',
                                        padding: '2rem'
                                    }} className="main-content">
                                        <div style={{ 
                                            textAlign: 'center',
                                            maxWidth: '600px'
                                        }} className="fade-in">
                                            <div style={{ fontSize: '4rem', marginBottom: '2rem' }}>‚ú®</div>
                                            <h1 style={{ 
                                                fontSize: '3rem', 
                                                color: '#333', 
                                                marginBottom: '1rem',
                                                fontWeight: '300'
                                            }}>
                                                Bem-vindo ao<br/>
                                                <span style={{ fontWeight: '700', color: '#667eea' }}>To-Do List</span>
                                            </h1>
                                            <p style={{ 
                                                fontSize: '1.2rem', 
                                                color: '#666', 
                                                marginBottom: '3rem',
                                                lineHeight: '1.6'
                                            }}>
                                                A ferramenta definitiva para organizar suas tarefas,<br/>
                                                aumentar sua produtividade e acompanhar not√≠cias personalizadas
                                            </p>
                                            
                                            {!isAuthenticated && (
                                                <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center' }}>
                                                    <button
                                                        onClick={() => handlePageChange('register')}
                                                        style={{
                                                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                            color: 'white',
                                                            border: 'none',
                                                            padding: '1rem 2rem',
                                                            borderRadius: '50px',
                                                            fontSize: '1.1rem',
                                                            fontWeight: '600',
                                                            cursor: 'pointer',
                                                            boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',
                                                            transition: 'all 0.3s ease'
                                                        }}
                                                    >
                                                        üöÄ Come√ßar Agora
                                                    </button>
                                                    <button
                                                        onClick={() => handlePageChange('login')}
                                                        style={{
                                                            background: 'transparent',
                                                            color: '#667eea',
                                                            border: '2px solid #667eea',
                                                            padding: '1rem 2rem',
                                                            borderRadius: '50px',
                                                            fontSize: '1.1rem',
                                                            fontWeight: '600',
                                                            cursor: 'pointer',
                                                            transition: 'all 0.3s ease'
                                                        }}
                                                    >
                                                        üë§ J√° tenho conta
                                                    </button>
                                                </div>
                                            )}
                                            
                                            {isAuthenticated && (
                                                <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center' }}>
                                                    <button
                                                        onClick={() => handlePageChange('dashboard')}
                                                        style={{
                                                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                                            color: 'white',
                                                            border: 'none',
                                                            padding: '1rem 2rem',
                                                            borderRadius: '50px',
                                                            fontSize: '1.1rem',
                                                            fontWeight: '600',
                                                            cursor: 'pointer',
                                                            boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',
                                                            transition: 'all 0.3s ease'
                                                        }}
                                                    >
                                                        üìä Ir para Dashboard
                                                    </button>
                                                    <button
                                                        onClick={() => handlePageChange('news')}
                                                        style={{
                                                            background: 'transparent',
                                                            color: '#667eea',
                                                            border: '2px solid #667eea',
                                                            padding: '1rem 2rem',
                                                            borderRadius: '50px',
                                                            fontSize: '1.1rem',
                                                            fontWeight: '600',
                                                            cursor: 'pointer',
                                                            transition: 'all 0.3s ease'
                                                        }}
                                                    >
                                                        üì∞ Ver Not√≠cias
                                                    </button>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                    
                                    <div style={{ 
                                        minWidth: '400px',
                                        maxWidth: '500px',
                                        flex: '0 0 auto',
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'center'
                                    }} className="task-sidebar">
                                        <div style={{ 
                                            textAlign: 'center',
                                            padding: '2rem',
                                            backgroundColor: '#f8f9fa',
                                            borderRadius: '8px',
                                            border: '1px solid #dee2e6',
                                            boxShadow: '0 4px 6px rgba(0,0,0,0.1)'
                                        }} className="fade-in">
                                            <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üìù</div>
                                            <h2 style={{ color: '#333', marginBottom: '1rem' }}>To-Do List</h2>
                                            <p style={{ color: '#666', marginBottom: '2rem' }}>
                                                Organize suas tarefas de forma eficiente!<br/>
                                                <small>Mantenha-se produtivo com nossas ferramentas avan√ßadas</small>
                                            </p>
                                            <div style={{ 
                                                color: '#6c757d',
                                                textAlign: 'left'
                                            }}>
                                                <h4 style={{ textAlign: 'center', marginBottom: '1rem' }}>‚ú® Recursos dispon√≠veis:</h4>
                                                <div style={{ 
                                                    display: 'grid', 
                                                    gridTemplateColumns: '1fr 1fr',
                                                    gap: '0.5rem',
                                                    fontSize: '0.85rem'
                                                }}>
                                                    <div>üéØ Prioridades</div>
                                                    <div>üìÖ Datas</div>
                                                    <div>üîÑ Recorr√™ncia</div>
                                                    <div>üè∑Ô∏è Etiquetas</div>
                                                    <div>‚è±Ô∏è Dura√ß√£o</div>
                                                    <div>üìä Estat√≠sticas</div>
                                                    <div>üíæ Dados seguros</div>
                                                    <div>üì∞ Not√≠cias</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<App />);
        </script>
    </body>
</html>
